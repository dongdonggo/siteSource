<h1 class="tooltitle">CSS压缩/格式化工具</h1><h2 class="tooltips">贴入要格式化或压缩的CSS代码：</h2><textarea class="form-control hText" id="code" onmouseover="this.focus();this.select();"></textarea><div class="btns">	<input class="btn btn-primary" type="button" value="高级压缩" onclick="CSS('pack');">	<input class="btn btn-success" type="button" value="普通压缩" onclick="CSS('packNor');">	<input class="btn btn-info" type="button" value="格式化" onclick="CSS('format');"></div><h2 class="tooltips">转换后的CSS代码：</h2><textarea class="form-control hText" id="packer" onmouseover="this.focus();this.select();"></textarea><script type="text/javascript">var CSSPacker = {	format: function (s) {//格式化代码		s = s.replace(/\s*([\{\}\:\;\,])\s*/g, "$1");		s = s.replace(/;\s*;/g, ";"); //清除连续分号		s = s.replace(/\,[\s\.\#\d]*{/g, "{");		s = s.replace(/([^\s])\{([^\s])/g, "$1 {\n\t$2");		s = s.replace(/([^\s])\}([^\n]*)/g, "$1\n}\n$2");		s = s.replace(/([^\s]);([^\s\}])/g, "$1;\n\t$2");		return s;	},	pack: function (s) {//高级		s = s.replace(/\/\*(.|\n)*?\*\//g, ""); //删除注释		s = s.replace(/\s*([\{\}\:\;\,])\s*/g, "$1");		s = s.replace(/\,[\s\.\#\d]*\{/g, "{"); //容错处理		s = s.replace(/;\s*;/g, ";"); //清除连续分号		s = s.replace(/;\s*}/g, "}"); //清除末尾分号和大括号		s = s.match(/^\s*(\S+(\s+\S+)*)\s*$/); //去掉首尾空白		return (s == null) ? "" : s[1];	},	packNor: function (s) {//普通		s = s.replace(/\/\*(.|\n)*?\*\//g, ""); //删除注释		s = s.replace(/\s*([\{\}\:\;\,])\s*/g, "$1");		s = s.replace(/\,[\s\.\#\d]*\{/g, "{"); //容错处理		s = s.replace(/;\s*;/g, ";"); //清除连续分号		s = s.replace(/;\s*}/g, "}"); //清除末尾分号和大括号		s = s.replace(/([^\s])\{([^\s])/g, "$1{$2");		s = s.replace(/([^\s])\}([^\n]s*)/g, "$1}\n$2");		return s;	}}function CSS(s) {	function $(id){return (document.getElementById) ? document.getElementById(id): document.all[id]}	$("packer").value = CSSPacker[s]($("code").value);}</script>